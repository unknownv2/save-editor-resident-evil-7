define("collections",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),define("editor",["require","exports","tslib","aurelia-framework","egoroof-blowfish","libvantage","./savedata","./inventory","./items","./object"],function(e,t,r,n,a,i,o,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c="InventorySaveDataDicList:Table:app.SaveData.DicList`2<app.PlayerID,app.InventorySaveData>[0]:Value:EquipItemID",d="boxInventory",p="playerInventory",h=function(){function e(){this.key="hHGb4nS653aRT29jy",this.murmurSeed=4294967295,this.availableItems=l.default.map(function(e){return{label:e,value:e}})}return e.prototype.load=function(e){this.buffer=e,this.decryptSave(),this.loadSaveData(),this.availableItems&&this.availableItems.length>0&&(this.selectedItem=this.availableItems[0].label),this.itemCount=1},e.prototype.loadSaveData=function(){this.inventoryData=new y,this.saveGame=new o.Savegame(this.saveData),this.displayTree(this.saveGame)},e.prototype.displayTree=function(e){e.properties[0].entries[26];var t=e.properties[0],r=t.findElementByPath("InventorySaveDataDicList:Table:app.SaveData.DicList`2<app.PlayerID,app.InventorySaveData>[0]:Value:Items");this.inventoryItems=new s.InventoryCollection(r,!0),this.invNodes=[];for(var n=[],a=0,i=this.inventoryItems.items;a<i.length;a++){var o=i[a];n.push(this.createItemNode(o))}var l=t.findElementByPath("InventorySaveDataDicList:Table:app.SaveData.DicList`2<app.PlayerID,app.InventorySaveData>[0]:Value:ItemBoxItems");this.inventoryBoxItems=new s.InventoryCollection(l,!0);for(var u=[],h=0,f=this.inventoryBoxItems.items;h<f.length;h++){o=f[h];u.push(this.createItemNode(o))}var y=t.findElementByPath(c);this.inventoryData.EquipItemID=y.getBuffer().toString(),this.invNodes.push({name:"Player Inventory",id:p,nodes:n},{name:"Box Items",id:d,nodes:u},{name:"Equipped Item",id:"equipped",nodes:[this.createTextStatNode("EquipItemID","Equipped Item",this.inventoryData)]}),this.properties=t},e.prototype.decryptSave=function(){var e=new i.Stream(this.buffer);e.position=0;var t=e.length%8,r=this.decryptBlock(e.readBytes(this.buffer.length-t)),n=new i.Stream(r);n.position=r.length,n.writeBytes(e.readBytes(t)),this.saveData=n.getBuffer()},e.prototype.addToInventory=function(e){e?this.addItemToInventory(this.inventoryItems,p):this.addItemToInventory(this.inventoryBoxItems,d)},e.prototype.addItemToInventory=function(e,t){var r={ItemDataID:this.createItemProperty(u.ObjectType.UnicodeString,this.selectedItem),Num:this.createItemProperty(u.ObjectType.Int32,this.itemCount),SlotNo:this.createItemProperty(u.ObjectType.Int32,e.getFreeSlot()),SlotRotation:this.createItemProperty(u.ObjectType.Single,0),WeaponGunSaveData:this.createItemProperty(u.ObjectType.Class,null),isAdditional:this.createItemProperty(u.ObjectType.Boolean,!1)};this.addItemToNode(this.invTree.findNodeByPath(t),this.addItemToInventoryList(e,r))},e.prototype.createItemProperty=function(e,t){return{objectType:e,data:t}},e.prototype.addItemToNode=function(e,t){e.nodes.push(this.createItemNode(t))},e.prototype.addItemToInventoryList=function(e,t){return e.insert(t)},e.prototype.createItemNode=function(e){var t=this.createSelectionNode("ItemDataID","Item",e);return t.nodes=[this.createStatNode("Num","Amount",e)],t},e.prototype.saveProperties=function(){this.inventoryData.EquipItemID&&this.saveGame.properties[0].findElementByPath(c).setBuffer(Buffer.from(this.inventoryData.EquipItemID)),this.saveInventoryProperties(this.inventoryItems),this.saveInventoryProperties(this.inventoryBoxItems)},e.prototype.saveInventoryProperties=function(e){for(var t=0,r=e.items;t<r.length;t++){var n=r[t];for(var a in n)e.setValue(n.index,a,n[a])}},e.prototype.serializeSaveData=function(){return this.saveGame.toBuffer()},e.prototype.save=function(){return this.saveProperties(),this.saveData=this.serializeSaveData(),this.encryptSaveToBuffer()},e.prototype.encryptSaveToBuffer=function(){return this.encryptUWPSaveToBuffer()},e.prototype.encryptUWPSaveToBuffer=function(){var e=new i.Stream(this.saveData);e.position=0;var t=e.length%8,r=this.encryptBlock(e.readBytes(this.saveData.length-t)),n=new i.Stream(r);return n.position=r.length,n.writeBytes(e.readBytes(t)),this.saveData=n.getBuffer(),this.saveData},e.prototype.decryptBlock=function(e){return this.reverseArrayByDword(this.getBlowfishContext().decode(this.reverseArrayByDword(e),a.TYPE.UINT8_ARRAY))},e.prototype.encryptBlock=function(e){return this.reverseArrayByDword(this.getBlowfishContext().encode(this.reverseArrayByDword(e),a.TYPE.UINT8_ARRAY))},e.prototype.decryptBlockToTxt=function(e){return this.reverseArrayByDword(this.getBlowfishContext().decode(this.reverseArrayByDword(e),a.TYPE.UINT8_ARRAY)).toString("utf8")},e.prototype.reverseArrayByDword=function(e){if(e.length%4!=0)throw new Error("invalid array length");var t=Buffer.from(e);return t.swap32(),t},e.prototype.getBlowfishContext=function(){return this.blowfish||(this.blowfish=new a(this.key,a.MODE.CBC,a.PADDING.NULL)),this.blowfish.setIv(new Buffer(8)),this.blowfish},e.prototype.createStatNode=function(e,t,r){return{id:e,name:t,component:new f(r,e)}},e.prototype.createTextStatNode=function(e,t,r){return{id:e,name:t,component:new m(r,e)}},e.prototype.createSelectionNode=function(e,t,r){return{id:e,name:t,component:new v(r,e,this.availableItems)}},e.prototype.maxAllItemsInInventory=function(e){e?this.maxItemsInInventory(this.inventoryItems):this.maxItemsInInventory(this.inventoryBoxItems)},e.prototype.maxItemsInInventory=function(e,t){for(var r=0,n=e.items;r<n.length;r++){n[r].Num=t||999}},e}();t.Editor=h;var f=function(){function e(e,t,r){this.statObject=e,this.statId=t,this.type="number",this.min=0,this.step=1,this.max=r||999999}return Object.defineProperty(e.prototype,"value",{get:function(){return this.statObject[this.statId]},set:function(e){this.statObject[this.statId]=e},enumerable:!0,configurable:!0}),r.__decorate([n.computedFrom("statObject[statId]"),r.__metadata("design:type",Number),r.__metadata("design:paramtypes",[Number])],e.prototype,"value",null),e}();t.PlayerStatComponent=f;var y=function(){return function(){}}();t.InventorySaveData=y;var m=function(){function e(e,t,r){this.statObject=e,this.statId=t,this.type="text"}return Object.defineProperty(e.prototype,"value",{get:function(){return this.statObject[this.statId]},set:function(e){this.statObject[this.statId]=e},enumerable:!0,configurable:!0}),r.__decorate([n.computedFrom("statObject[statId]"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[String])],e.prototype,"value",null),e}();t.PlayerTextStatComponent=m;var v=function(){function e(e,t,r,n){this.statObject=e,this.statId=t,this.type="selection",this.options=r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.statObject[this.statId]},set:function(e){this.statObject[this.statId]=e},enumerable:!0,configurable:!0}),r.__decorate([n.computedFrom("statObject[statId]"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[String])],e.prototype,"value",null),e}();t.PlayerSlectionComponent=v}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("inventory",["require","exports","./savedata"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=this;this.items=[],this.usedSlots=[],e.children.forEach(function(e,t){var n=r.parseListEntry(e);n.index=t,r.items.push(n),r.usedSlots.push(n.SlotNo)}),this.list=e,this.boxInventory=t}return e.prototype.getFreeSlot=function(){if(this.boxInventory)return 0;for(var e=0;this.usedSlots.includes(e++););return this.usedSlots.push(e),e},e.prototype.getBufferFromEntry=function(e,t){var r=e.findChildByName(t);if(1===r.length){var n=r[0];if(n)return n.getBuffer()}return null},e.prototype.setBufferForEntry=function(e,t,r){var n=this.list.children[e].findChildByName(t);if(1===n.length){var a=n[0];a&&a.setBuffer(r)}},e.prototype.setValue=function(e,t,n){var a=this.list.children[e].findChildByName(t);if(1===a.length){var i=a[0];i&&i.setBuffer(r.TableListEntry.serializeObject(i.entryId.type,n))}},e.prototype.getValue=function(e,t){var n=e.findChildByName(t);if(1===n.length){var a=n[0];if(a)return r.TableListEntry.deserializeObject(a.entryId.type,a.getBuffer())}return null},e.prototype.insert=function(e){var t=r.StructListEntry.create(1724098768),n={};for(var a in e)t.children.push(r.TableListEntry.create(a,e[a])),n[a]=e[a].data;return n.index=this.list.children.length,this.items.push(n),this.list.insert(t),n},e.prototype.parseListEntry=function(e){return{ItemDataID:this.getValue(e,"ItemDataID"),Num:this.getValue(e,"Num"),SlotNo:this.getValue(e,"SlotNo"),SlotRotation:this.getValue(e,"SlotRotation"),isAdditional:this.getValue(e,"isAdditional")}},e}();t.InventoryCollection=n}),define("items",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["UnlimitedAmmo","ChainCutter","ScrewDriver","ChainSaw","KitchenKnife","Shovel","HandAxe","CircularSaw","Knife","Handgun_G17","ShotGun","Shotgun_M37","MachineGun","Magnum","GrenadeLauncher","Burner","HandgunBullet","ShotgunBullet","MachineGunBullet","MagnumBullet","BurnerBullet","RemedyS","RemedyM","RemedyL","Herb","ChemicalS","ChemicalM","ChemicalL","FlameBulletS","AcidBulletS","HandgunBulletL","LiquidBomb","Stimulant","Depressant","Gunpowder","SyntheticDetergent","Flower","EyeDrops","AlloyClay","Alcohol","Magnesium","Handgun_M19","Handgun_MPM","Handgun_Albert","Handgun_Albert_Reward","Shotgun_DB","EvelynRadar","Flare","MiaKnife","GoldenBar","HyperBlaster","BrokenHandgun_M19","BrokenShotgun_DB","Bar","Candle","Candle_Lighted","Glasses","Glasses_Washed","SilhouettePazzlePieceChildroom","WorkroomKey","Crank","3CrestKeyA","3CrestKeyB","3CrestKeyC","Lantern","SilhouettePazzlePieceOldHouse","LucasCardKey","Balloonbomb","Timebomb","ProposalBook","Coin","TreasureMap01","TreasureMap02","TreasureMap03","DybbukMedicine","FuseCh4","CabinKey","Order","EthanCarKey","EthanLeg","PendulumClock","FloorDoorKey","RepairKit","ProposalBookFf","BackDoorKey","EvOpener","EvCable","BookDefence01","BookDefence02","AlphaGrass","EasyBoots","MailMia","SerumTypeE","Chapter4_1SwampMAP","LucasCardKey2","PowerUpCoin01A","PowerUpCoin01B","SaveTape","DummyAxe","CoinOld","CircularSawNo","Glasses_End","EvelynRadar1","EvelynRadar2","EvelynRadar3","EvelynRadar4","TaStairs","TaSlide","FoundFootage000","Chapter1Map","Fuse","MiaDriversLicense","EntranceHallKey","HandCutOff","Chapter3_2Map","Chapter3_2MapB1F","SilhouettePazzlePiece","ToyShotgun","BurnerPartsA","BurnerPartsB","Chapter3_3Map","SerumMaterialA","FoundFootage030","Chapter3_4MAP","FoundFootage040","Battery","SpringCoil","CylinderKey","SkinnyDoll","ScrewFinger","Quill","SerumMaterialB","Valve","SerumComplete","Map","FoundFootage050","Chapter4_1MAP"]}),define("main",["require","exports","tslib","libvantage"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.configure=function(e){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){switch(t.label){case 0:return e.use.basicConfiguration().plugin("libvantage"),[4,e.start()];case 1:return t.sent(),[4,e.setRoot("editor")];case 2:return t.sent(),n.setEditor(e.root.viewModel),[2]}})})}}),define("murmur3",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.murmurHash=function(e,t,r){var n,a,i,o,s,l,u,c;for(a=t-(n=3&t),i=r,s=3432918353,l=461845907,c=0;c<a;)u=e.readUInt32LE(c),c+=4,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*s+(((u>>>16)*s&65535)<<16)&4294967295)<<15|u>>>17))*l+(((u>>>16)*l&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.readInt8(c+2))<<16;case 2:u^=(255&e.readInt8(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.readInt8(c)))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<15|u>>>17))*l+(((u>>>16)*l&65535)<<16)&4294967295}return i^=t,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};t.murmurHash3Str=function(e,t){var r,n,a,i,o,s,l,u;for(t=t||4294967295,r=3&e.length,n=e.length-r,a=t,o=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,a=27492+(65535&(i=5*(65535&(a=(a^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:a^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}}),define("object",["require","exports","tslib","libvantage"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});(a=t.ObjectType||(t.ObjectType={}))[a.Unknown=0]="Unknown",a[a.Enum=1]="Enum",a[a.Boolean=2]="Boolean",a[a.Int8=3]="Int8",a[a.Uint8=4]="Uint8",a[a.Int16=5]="Int16",a[a.Uint16=6]="Uint16",a[a.Int32=7]="Int32",a[a.Uint32=8]="Uint32",a[a.Int64=9]="Int64",a[a.UInt64=10]="UInt64",a[a.Single=11]="Single",a[a.Double=12]="Double",a[a.CString=13]="CString",a[a.WCString=14]="WCString",a[a.UnicodeString=15]="UnicodeString",a[a.Vector4=16]="Vector4",a[a.Class=17]="Class";var a,i=function(e){r.__extends(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}return t.prototype.alignTo=function(e){var t=this.position%e;if(t>0){this.position;this.length<this.position+(e-t)?this.writeBytes(new Buffer(e-t)):this.position+=e-t}},t}(n.Stream);t.ObjectStream=i}),define("properties",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["Version","IsEnable","StartUpScene","CurrentChapter","ReturnChapter","SavePlayerID","IsSaveReturnJumpPos","ReturnJumpPos","ReturnJumpRot","RestartFadeType","RestartFadeInTime","PlayTime","GameDifficulty","RankPoint","RankPoint_030","RestartCount","IsMegusuriOn","IsMegusuriSkill","MegusuriTime","GameFlowKindEnum","TempFlowKindEnum","GameFlowProgressiveNo","TempFlowProgressiveNo","cTimerSave","Time","IsStart","PlayerSaveDataDicList","Key","Value","Table","Name","IsUpdate","IsDraw","StimulantLevel","DepressantLevel","Health","Position","Rotation","PlayerHandLightSaveData","IsValid","ActionRequest","IsLightOnCompleted","IsLightOn","PlayerDamageControllerSaveData","IsLegCutOnce","PlayerStampSaveDataDicList","StampData","DataList","ObjName","Data","InventorySaveDataDicList","Items","EquipItemID","ItemBoxItems","MapFlags","InventoryExtendLv","EnabledRoomIdsChapter1","EnabledRoomIdsChapter3","EnabledRoomIdsChapter4","MapDoorDataDicList","MapObjectDataDicList","MapExObjectDataDicList","ItemDataID","Num","SlotNo","SlotRotation","WeaponGunSaveData","isAdditional","BulletInfoList","BulletItemID","LoadNum","MapDoorType","DoorID","State","MapObjectType","Chapter","RoomID","RoomIDString","MapItemFrameNo","Enable","IsCheckMapFloor","MapFloor","MapObjectTypes","SaveGUID","ItemSaveDicList","FolderName","Stacknum","EnemySaveDataDicList","MessageStatus2","em8000SaveDataContainer","MaxHealth","RequestSetColliderEnable","CollidersEnable","CollidersEnableList","CommonnThinkState","ThinkState","HasBackup","IsCompleted","IsAppeared","IsSpawned","SuspendType","IntervalTimer","ReappearanceInvalidTimer","ElapsedRequestWaitTimer","CountOfRespawned","IsSelfSuspendedEvenOnce","optionSaveData","moldedCommon","IsLostLeftArm","IsLostRightArm","IsLostLeftLeg","IsLostRightLeg","IsCanPatrolDash","IsAlreadyPatrolDash","IsVanishAble","EnemyStampSaveDataDicList","SaveEnemyID","OtherObjectSaveDataDicList","Parentname","CollidersEneble","CollidersEnebleList","OtherInt","OtherBool","DoorPushSaveDataDicList","DoorState","IsFront","IsFixedUntilPlayerApproach","IsLock","MaxOpenAngle","IsLittleOpenRotationSpeedOverrid","e","OverrideLittleOpenRotationSpeed","IsPushRotationSpeedOverride","OverridePushRotationSpeed","IsAutoOpenRotationSpeedOverride","OverrideAutoOpenRotationSpeed","IsLockedDoorShakableOverride","OverrideLockedDoorShakable","CurrentLittleOpenAngle","CurrentMaxOpenAngle","HasDoorBug","DoorBugHealth","DoorBugUseIdList","InteractSaveDataDicList","OtherFlags","OtherString0","TriggerInActionSaveDataDicList","IsOnColliderSet","AlreadyRepeatSaved","TriggerActionAreaHitSaveDataDicL","ist","In_IsDoneExec","Out_IsDoneExec","MotionDestructSaveDataDicList","IsBroken","MotionID","RigidBodyDestructSaveDataDicList","","IsBreak","TimeLineKickerSaveDataDicList","PlayStamp","ItemDropDestructSaveDataDicList","IsBreaked","SetItemID","StackNum","WwiseSaveData","StateGroupId","StateId","FileSaveData","ReleaseFileIds","fileId","EquipedItemSaveData","EquipedItemDataIds","TipsSaveData","TipsFlagRestartCount","BugsDoorData","units","GlobalValiablesBoolSaveDataList","HashName","NameHash","boolFlag","GlobalValiablesIntSaveDataList","intFlag","GlobalValiablesFloatSaveDataList","floatFlag","FsmStateSaveDataDicList","IsExecute","StateID","SetDelegateFrame","FolderSaveDataList","IsActive","IsStandby","LoadWaitFolderName","LightKind","DecalSaveData","DecalInfoListInScene","OldestIndex","InfoList","Info","DecalInfoListOnRoot","SKUName"]}),define("savedata",["require","exports","libvantage","./properties","./murmur3","./object"],function(e,t,r,n,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={};n.default.forEach(function(e){return o[a.murmurHash3Str(e,4294967295)]=e});var s=function(){function e(e){for(this.stream=new i.ObjectStream(e),this.properties=[];this.stream.position<this.stream.length;)this.properties.push(new u(this.stream))}return e.prototype.toBuffer=function(){var e=new i.ObjectStream(new Buffer(2e3));return this.properties.forEach(function(t){t.serialize(e)}),e.getBuffer()},e}();t.Savegame=s;var l=function(){return function(e){for(this.stream=e,this.properties=[];e.position<e.length;)this.properties.push(new u(e))}}();t.SavegameMetadata=l;var u=function(){function e(e,t){var r=e.readInt32();this.listId=e.readUInt32(),this.typeId=t,this.entries=[];for(var n=0;n<r;n++)this.entries.push(this.readListEntry(e,this.listId))}return e.prototype.findElementByPath=function(e){var t=e.split(":"),r=this.entries.find(function(e){return e.typeHash===a.murmurHash3Str(t[0])});t=t.splice(1);for(var n in t){if(!r)break;var i=t[n],o=null;if(i.endsWith("]")){var s=i.match(/[^[\]]+(?=\])/g);if(1!==s.length)throw new Error("Failed to parse key from path string");o=parseInt(s[0],s.includes("0x")?16:10),i=i.split("[")[0]}a.murmurHash3Str(i);var l=r.findChildByName(i,o);if(1!=l.length)throw new Error("Found too many matches from path "+i);r=l[0]}return r},e.prototype.readListEntry=function(e,t){var r=new h(e);if(r.tableId=t,r.hasChildren){var n=e.readInt32(),a=e.readInt32();r.headerSize=n,r.actualCount=a,r.headerCount=e.readUInt32();if((v=r.entryId.type)<=i.ObjectType.WCString)r.setBuffer(e.readBytes(a*n));else switch(r.children=[],v){case i.ObjectType.UnicodeString:for(var o=new d,s=0;s<a;s++){e.alignTo(4);var l=e.readUInt32(),u=e.readString("utf16le",l);o.children.push(u)}r.children.push(o);break;case i.ObjectType.Class:for(s=0;s<a;s++){e.alignTo(4);var p=new c,f=e.readInt32(),y=e.readUInt32();p.typeHash=y,p.children=[];for(var m=0;m<f;m++)p.children.push(this.readListEntry(e,y));r.children.push(p)}break;default:throw new Error("type not supported for deserializing yet")}}else{var v;if((v=r.entryId.type)<=i.ObjectType.WCString){if((l=e.readUInt32())>=4&&(e.alignTo(l),l>8))throw new Error("type not supported yet");try{r.setBuffer(e.readBytes(l))}catch(e){console.log(e.toString())}}else switch(v){case i.ObjectType.UnicodeString:l=e.readUInt32(),u=e.readString("utf16le",l);r.setBuffer(Buffer.from(u));break;case i.ObjectType.Vector4:l=e.readUInt32();e.alignTo(16),r.setBuffer(e.readBytes(l));break;case i.ObjectType.Class:f=e.readUInt32(),y=e.readInt32();if(4278124286===f)throw new Error("class type not supported for deserializing yet");r.children=[];for(m=0;m<f;m++)r.children.push(this.readListEntry(e,y));r.arrayType=y}}return r},e.prototype.serialize=function(e){e.writeInt32(this.entries.length),e.writeUInt32(this.listId),this.entries.forEach(function(t){t.serialize(e)})},e}();t.ElementList=u;var c=function(){function e(){}return e.create=function(t){var r=new e;return r.typeHash=t,r.children=[],r},e.prototype.findChildByName=function(e,t){var r=this.children.filter(function(t){return t.name?t.name===e:t.typeHash===a.murmurHash3Str(e)});return null!=t&&r.length>1&&(r=r.filter(function(e){var r=e.findChildByName("Key")[0].getBuffer();return!!r&&r.readInt32LE(0)===t})),r},e.prototype.serialize=function(e){throw new Error("not implemented")},e.prototype.getBuffer=function(){throw new Error("not implemented")},e.prototype.setBuffer=function(e){throw new Error("not implemented")},e.prototype.insert=function(e){throw new Error("not implemented")},e}();t.StructListEntry=c;var d=function(){function e(){this.children=[]}return e.prototype.findChildByName=function(e,t){throw new Error("not implemented")},e.prototype.serializeToBuffer=function(){var e=new i.ObjectStream(new Buffer(8));return this.serialize(e),e.getBuffer()},e.prototype.serialize=function(e){for(var t in this.children)e.alignTo(4),e.writeUInt32(t.length),e.writeString(t,"utf16le")},e.prototype.getBuffer=function(){throw new Error("not implemented")},e.prototype.setBuffer=function(e){throw new Error("not implemented")},e.prototype.insert=function(e){this.children||(this.children=[]),this.children.push(e)},e}(),p=function(){function e(e,t,r){null!=e?(this.murmurHash=e.readUInt32(),this.type=e.readInt32(),-1===this.type&&(this.type=e.readInt32(),this.hasSubType=!0)):(this.murmurHash=t,this.type=r)}return e.prototype.setId=function(e,t){this.murmurHash=e,this.type=t},e.prototype.serialize=function(e){e.writeUInt32(this.murmurHash),this.hasSubType&&e.writeInt32(-1),e.writeInt32(this.type)},e.prototype.serializeToBuffer=function(){var e=new i.ObjectStream(new Buffer(8));return this.serialize(e),e.getBuffer()},e}();t.TableListEntryId=p;var h=function(){function e(e){if(null!=e){e.alignTo(4);var t=new p(e);this.hasChildren=t.hasSubType,o.hasOwnProperty(t.murmurHash)&&(this.name=o[t.murmurHash]),this.entryId=t}}return Object.defineProperty(e.prototype,"typeHash",{get:function(){return this.entryId?this.entryId.murmurHash:-1},enumerable:!0,configurable:!0}),e.create=function(t,r){var n=new e,o=a.murmurHash3Str(t);return n.entryId=new p(null,o,r.objectType),r.objectType==i.ObjectType.Class&&(n.children=[]),n.setBuffer(this.serializeObject(r.objectType,r.data)),n},e.deserializeObject=function(e,t){switch(e){case i.ObjectType.Boolean:return 1===t.readInt8(0);case i.ObjectType.Int32:return t.readInt32LE(0);case i.ObjectType.Uint32:return t.readUInt32LE(0);case i.ObjectType.Single:return t.readFloatLE(0);case i.ObjectType.CString:case i.ObjectType.WCString:case i.ObjectType.UnicodeString:return t.toString();case i.ObjectType.Class:break;default:throw new Error("type not yet supported")}return null},e.serializeObject=function(e,t){var n=null;switch(e){case i.ObjectType.Boolean:(n=new Buffer(1)).writeUInt8(t,0);break;case i.ObjectType.Int32:(n=new Buffer(4)).writeInt32LE(t,0);break;case i.ObjectType.Uint32:(n=new Buffer(4)).writeUInt32LE(t,0);break;case i.ObjectType.Single:var a=new r.Stream(new Buffer(4));a.writeFloat(t),n=a.getBuffer();break;case i.ObjectType.CString:case i.ObjectType.WCString:case i.ObjectType.UnicodeString:n=Buffer.from(t);break;case i.ObjectType.Class:break;default:throw new Error("type not yet supported")}return n},e.prototype.setBuffer=function(e){this.buffer=e},e.prototype.getBuffer=function(){return this.buffer},e.prototype.insert=function(e){this.children||(this.children=[]),this.children.push(e),this.actualCount=this.children.length},e.prototype.findChildByName=function(e,t){var r=this.children.filter(function(t){return t.typeHash===a.murmurHash3Str(e)});return null!=t&&r.length>1&&(r=r.filter(function(e){var r=e.findChildByName("Key",t)[0].getBuffer();return!!r&&r.readInt32LE(0)===t})),r},e.prototype.serialize=function(e){this.serializeList(this,e)},e.prototype.serializeList=function(e,t){var r=this;if(t.alignTo(4),e.entryId.serialize(t),e.hasChildren)if(t.writeInt32(e.headerSize),t.writeInt32(e.actualCount),t.writeUInt32(e.headerCount),e.entryId.type<=i.ObjectType.WCString)t.writeBytes(e.getBuffer());else switch(e.entryId.type){case i.ObjectType.UnicodeString:e.children[0].children.forEach(function(e){t.alignTo(4),t.writeUInt32(e.length),t.writeString(e,"utf16le")});break;case i.ObjectType.Class:e.children.forEach(function(e){t.alignTo(4);var n=e;t.writeInt32(n.children.length),t.writeUInt32(n.typeHash),n.children.forEach(function(e){r.serializeList(e,t)})});break;default:throw new Error("type not supported for serializing yet")}else if(e.entryId.type<=i.ObjectType.WCString){var n=e.getBuffer();t.writeUInt32(n.length),n.length>=8&&t.alignTo(8),t.writeBytes(n)}else switch(e.entryId.type){case i.ObjectType.UnicodeString:var a=e.getBuffer().toString();t.writeUInt32(a.length),a.length>0&&t.writeString(a,"utf16le");break;case i.ObjectType.Vector4:a=e.getBuffer();t.writeUInt32(a.length),t.alignTo(16),t.writeBytes(a);break;case i.ObjectType.Class:t.writeUInt32(e.children.length),t.writeUInt32(e.arrayType),e.children.length>0&&e.children.forEach(function(e){r.serializeList(e,t)});break;default:throw new Error("type not supported for serializing yet")}},e}();t.TableListEntry=h}),define("text!editor.html",["module"],function(e){e.exports='<template><require from="libvantage/vantage.css"></require><header>Player Inventory</header><card label="Player Inventory"><v-button click.delegate="maxAllItemsInInventory(true)">Max All</v-button></card><card label="Box Inventory"><v-button click.delegate="maxAllItemsInInventory(false)">Max All</v-button></card><card><table><thead><th>Item</th><th>Count</th><th>Inventory</th><th>Box</th></thead><tbody><td><v-selection value.bind="selectedItem" options.bind="availableItems"></v-selection></td><td><v-number value.bind="itemCount" min="0" max="999"></v-number></td><td><v-button click.delegate="addToInventory(true)">Add</v-button></td><td><v-button click.delegate="addToInventory(false)">Add</v-button></td></tbody></table></card><card><v-tree nodes.bind="invNodes" view-model.ref="invTree"></v-tree></card></template>'});